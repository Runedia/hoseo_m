# 메뉴 API 레퍼런스

## 목차
1. [메뉴 목록 조회](#1-메뉴-목록-조회)
2. [메뉴 상세 조회](#2-메뉴-상세-조회)
3. [타입별 메뉴 목록 조회](#3-타입별-메뉴-목록-조회)
4. [메뉴 타입 목록 조회](#4-메뉴-타입-목록-조회)
5. [메뉴 검색](#5-메뉴-검색)
6. [메뉴 통계 조회](#6-메뉴-통계-조회)
7. [메뉴 파일 다운로드](#7-메뉴-파일-다운로드)

---

## 1. 메뉴 목록 조회

메뉴 목록을 페이지네이션으로 조회합니다.

### 요청

```
GET /menu/list
```

### 쿼리 파라미터

| 파라미터 | 타입    | 필수 | 기본값 | 설명               |
|----------|---------|------|--------|-------------------|
| page     | integer | 아니오 | 1      | 조회할 페이지 번호  |
| pageSize | integer | 아니오 | 20     | 페이지당 항목 수    |


### 응답 예시

```json
[
  {
    "idx": 1,
    "type": "MAPP_2312012408",
    "chidx": "12345",
    "title": "5월 4주 학생식당 주간 메뉴",
    "author": "관리자",
    "create_dt": "2025-05-28T15:00:00.000Z"
  },
  ...
]
```

---

## 2. 메뉴 상세 조회

특정 메뉴의 상세 정보를 조회합니다.

### 요청

```
GET /menu/idx/{chidx}/{type}
```

### 경로 파라미터

| 파라미터 | 타입    | 필수 | 설명                |
|----------|---------|------|-------------------|
| chidx    | string  | 예   | 메뉴 고유 식별자    |
| type     | string  | 예   | 메뉴 타입 (예: MAPP_2312012408, HAPPY_DORM_NUTRITION 등) |


### 응답 예시

```json
{
  "idx": 1,
  "type": "MAPP_2312012408",
  "chidx": "12345",
  "title": "5월 4주 학생식당 주간 메뉴",
  "link": "/menu/view/12345",
  "author": "관리자",
  "create_dt": "2025-05-28T15:00:00.000Z",
  "content": "<div>메뉴 상세 내용 HTML</div>",
  "assets": [],
  "attachments": [
    {
      "file_type": "image/jpeg",
      "file_name": "menu_12345.jpg",
      "origin_name": "5월4주_학생식당.jpg",
      "file_path": "/download/menu/menu_12345.jpg",
      "file_url": "http://example.com/download/menu/menu_12345.jpg"
    }
  ],
  "isDownloaded": true,
  "downloadPath": "download_menu"
}
```

---

## 3. 타입별 메뉴 목록 조회

특정 타입의 메뉴 목록을 조회합니다.

### 요청

```
GET /menu/action/{action}
```

### 경로 파라미터

| 파라미터 | 타입    | 필수 | 설명                |
|----------|---------|------|-------------------|
| action   | string  | 예   | 메뉴 타입 (예: MAPP_2312012408) |

### 쿼리 파라미터

| 파라미터 | 타입    | 필수 | 기본값 | 설명               |
|----------|---------|------|--------|-------------------|
| page     | integer | 아니오 | 1      | 조회할 페이지 번호  |
| pageSize | integer | 아니오 | 20     | 페이지당 항목 수    |


### 응답 예시

```json
[
  {
    "idx": 1,
    "type": "MAPP_2312012408",
    "chidx": "12345",
    "title": "5월 4주 학생식당 주간 메뉴",
    "author": "관리자",
    "create_dt": "2025-05-28T15:00:00.000Z"
  }
]
```

---

## 4. 메뉴 타입 목록 조회

사용 가능한 메뉴 타입 목록을 조회합니다.

### 요청

```
GET /menu/actions
```

### 응답 예시

```json
[
  {
    "action": "MAPP_2312012408",
    "name": "천안",
    "category": "general"
  },
  {
    "action": "MAPP_2312012409",
    "name": "아산",
    "category": "general"
  },
  {
    "action": "MAPP_2312012410",
    "name": "당진",
    "category": "general"
  },
  {
    "action": "HAPPY_DORM_NUTRITION",
    "name": "행복기숙사",
    "category": "happy_dorm"
  }
]
```

---

## 5. 메뉴 검색

메뉴를 검색합니다.

### 요청

```
GET /menu/search
```

### 쿼리 파라미터

| 파라미터 | 타입    | 필수 | 설명                |
|----------|---------|------|-------------------|
| title    | string  | 아니오 | 제목 검색어        |
| author   | string  | 아니오 | 작성자 검색어      |
| action   | string  | 아니오 | 메뉴 타입 필터링    |
| page     | integer | 아니오 | 페이지 번호 (기본값: 1) |
| pageSize | integer | 아니오 | 페이지당 항목 수 (기본값: 20) |

### 응답 예시

```json
[
  {
    "idx": 1,
    "type": "MAPP_2312012408",
    "chidx": "12345",
    "title": "5월 4주 학생식당 주간 메뉴",
    "author": "관리자",
    "create_dt": "2025-05-28T15:00:00.000Z",
    "type_name": "천안"
  }
]
```

---

## 6. 메뉴 통계 조회

메뉴 타입별 통계를 조회합니다.

### 요청

```
GET /menu/stats
```

### 응답 예시

```json
[
  {
    "type": "MAPP_2312012408",
    "name": "천안",
    "count": 10,
    "downloaded": 8
  },
  {
    "type": "HAPPY_DORM_NUTRITION",
    "name": "행복기숙사",
    "count": 5,
    "downloaded": 5
  }
]
```

---

## 7. 메뉴 파일 다운로드

메뉴에 첨부된 파일을 다운로드합니다.

### 요청

```
GET /menu/file/{file_idx}
```

### 경로 파라미터

| 파라미터 | 타입    | 필수 | 설명                |
|----------|---------|------|-------------------|
| file_idx | integer | 예   | 파일 고유 식별자    |

### 응답

파일 다운로드가 진행됩니다.

---

## 에러 코드

| 상태 코드 | 설명                          |
|-----------|-----------------------------|
| 400       | 잘못된 요청 파라미터          |
| 403       | 권한 없음                    |
| 404       | 메뉴를 찾을 수 없음           |
| 500       | 서버 내부 오류               |

## 메뉴 타입 안내

| 타입 코드 | 설명 |
|-----------|------|
| MAPP_2312012408 | 천안 캠퍼스 |
| MAPP_2312012409 | 아산 캠퍼스 |
| MAPP_2312012410 | 당진 캠퍼스 |
| HAPPY_DORM_NUTRITION | 행복기숙사 |
